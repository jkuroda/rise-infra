- name: S2600WT systems rules
  lineinfile:
    path: /etc/udev/rules.d/70-persistent-net.rules
    line: "{{item}}"
    with_items:
      - "ACTION=='add', SUBSYSTEM=='net', DRIVERS=='ixgbe', KERNELS=='0000:81:00.0', NAME='ixgbem0'"
      - "ACTION=='add', SUBSYSTEM=='net', DRIVERS=='ixgbe', KERNELS=='0000:81:00.1', NAME='ixgbem1'"
      - "ACTION=='add', SUBSYSTEM=='net', DRIVERS=='i40e', KERNELS=='0000:82:00.0', NAME='i10e0'"
      - "ACTION=='add', SUBSYSTEM=='net', DRIVERS=='i40e', KERNELS=='0000:82:00.1', NAME='i10e1'"
      - "ACTION=='add', SUBSYSTEM=='net', DRIVERS=='i40e', KERNELS=='0000:82:00.2', NAME='i10e2'"
      - "ACTION=='add', SUBSYSTEM=='net', DRIVERS=='i40e', KERNELS=='0000:82:00.3', NAME='i10e3'"

- name: Set Network interface configurations
  interfaces_file: 
    dest: /etc/network/interfaces
    iface: lo
    option: inet
    value: loopback
    state: present
- interfaces_file: 
    dest: /etc/network/interfaces
    iface: ixgbem0
    option: inet
    value: dhcp
    state: present
- interfaces_file: 
    dest: /etc/network/interfaces
    iface: enp129s0f0
    option: inet
    value: dhcp
    state: present
- interfaces_file: 
    dest: /etc/network/interfaces
    iface: eth0
    option: inet
    value: dhcp
    state: present